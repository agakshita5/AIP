<!-- <!DOCTYPE html>
<html>
<head>
  <title>Adversarial Image Lab</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    .image-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
    }
    .image-container img {
      max-width: 300px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h1>Adversarial Image Lab</h1>

  <div id="tabs">
    <button onclick="showTab('generate')">Generate Attack</button>
    <button onclick="showTab('detect')">Detect Attack</button>
    <button onclick="showTab('defend')">Defend Model</button>
  </div>

 
  <div id="generate" class="tab">
    <input type="file" id="generateFile" accept="image/*">
    <button onclick="generateAttack()">Generate Adversarial</button>
    <div id="generateResult">
      <h3>Original Image:</h3>
      <div class="image-container">
        <img id="originalImg">
        <div id="originalPredictions"></div>
      </div>
      <h3>Perturbed Image:</h3>
      <div class="image-container">
        <img id="adversarialImg">
      </div>
    </div>
  </div>

 
  <div id="detect" class="tab" style="display:none;">
    <input type="file" id="detectFile" accept="image/*">
    <button onclick="detectAttack()">Detect Adversarial</button>
    <div id="detectResult">
      <h3>Uploaded Image:</h3>
      <div class="image-container">
        <img id="detectImg">
        <div id="detectText"></div>
      </div>
    </div>
  </div>


  <div id="defend" class="tab" style="display:none;">
    <input type="file" id="defendFile" accept="image/*">
    <button onclick="defendImage()">Defend Image</button>
    <div id="defendResult">
      <h3>Original Image (Adversarial):</h3>
      <div class="image-container">
        <img id="defendOriginalImg">
        <div id="originalDefendPredictions"></div>
      </div>
      <h3>Defended Image:</h3>
      <div class="image-container">
        <img id="defendedImg">
        <div id="defendedDefendPredictions"></div>
      </div>
      <h3>Explanation:</h3>
      <div id="defendText">This defense applies Gaussian blur to remove adversarial noise from a potentially attacked image. The goal is to restore the original, correct classification.  Upload an adversarially perturbed image (e.g., output from the 'Generate Attack' tab) to see the effect.</div>
    </div>
  </div>

  <script>
    // Show tabs dynamically
    function showTab(tabName) {
      document.querySelectorAll('.tab').forEach(tab => tab.style.display = 'none');
      document.getElementById(tabName).style.display = 'block';
    }

    // AJAX calls for each functionality
    async function generateAttack() {
      const file = document.getElementById('generateFile').files[0];
      const formData = new FormData();
      formData.append('image', file);

      const response = await fetch('/generate', { method: 'POST', body: formData });
      const result = await response.json();

      document.getElementById('originalImg').src = result.original;
      document.getElementById('adversarialImg').src = result.adversarial;
      document.getElementById('originalPredictions').innerText = 'Original Predictions: ' + result.original_predictions;
    }

    async function detectAttack() {
      const file = document.getElementById('detectFile').files[0];
      const formData = new FormData();
      formData.append('image', file);

      const response = await fetch('/detect', { method: 'POST', body: formData });
      const result = await response.json();

      document.getElementById('detectImg').src = result.image;
      document.getElementById('detectText').innerText = 'Detection Result: ' + result.result;
    }

    async function defendImage() {
      const file = document.getElementById('defendFile').files[0];
      const formData = new FormData();
      formData.append('image', file);

      const response = await fetch('/defend', { method: 'POST', body: formData });
      const result = await response.json();

      document.getElementById('defendOriginalImg').src = result.original;
      document.getElementById('defendedImg').src = result.defended;
      document.getElementById('defendText').innerText = 'Explanation: This defense applies Gaussian blur to remove adversarial noise from a potentially attacked image. The goal is to restore the original, correct classification.  Upload an adversarially perturbed image (e.g., output from the \'Generate Attack\' tab) to see the effect.';
      document.getElementById('originalDefendPredictions').innerText = 'Original Predictions: ' + result.original_predictions;
      document.getElementById('defendedDefendPredictions').innerText = 'Defended Predictions: ' + result.defended_predictions;
    }
  </script>
</body>
</html> 

..............................................................

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adversarial Shield</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <style>
      :root {
        --dark-navy: #001428;
        --medium-blue: #003366;
        --light-blue: #75AADB;
        --pale-yellow: #E8E1AA;
        --light-text: #ffffff;
        --dark-text: #333333;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: var(--dark-navy);
        color: var(--light-text);
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        margin: 0;
        position: relative;
      }

      .particles {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
      }

      .welcome-container {
        max-width: 900px;
        width: 90%;
        background-color: rgba(0, 20, 40, 0.8);
        border-radius: 16px;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        padding: 0;
        z-index: 1;
        overflow: hidden;
      }

      .welcome-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 40px;
      }

      .logo {
        width: 120px;
        height: 120px;
        margin-bottom: 20px;
        position: relative;
      }

      .logo-shield {
        font-size: 5rem;
        color: var(--light-blue);
        position: relative;
      }

      .logo-robot {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2.5rem;
        color: var(--pale-yellow);
      }

      h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 15px;
        background: linear-gradient(135deg, var(--pale-yellow), var(--light-blue));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .tagline {
        font-size: 1.2rem;
        margin-bottom: 30px;
        max-width: 600px;
        color: #b8c7d9;
      }

      .btn-enter {
        background: linear-gradient(135deg, var(--light-blue), var(--medium-blue));
        border: none;
        padding: 12px 30px;
        font-size: 1.2rem;
        border-radius: 30px;
        color: white;
        transition: all 0.3s ease;
        font-weight: 600;
        margin-top: 20px;
      }

      .btn-enter:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        background: linear-gradient(135deg, var(--light-blue), var(--dark-navy));
      }

      .btn-enter:active {
        transform: translateY(-1px);
      }

      .feature-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin: 30px 0;
        width: 100%;
      }

      .feature-card {
        background-color: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        padding: 20px 15px;
        text-align: center;
        transition: transform 0.3s ease;
      }

      .feature-card:hover {
        transform: translateY(-5px);
        background-color: rgba(255, 255, 255, 0.1);
      }

      .feature-icon {
        font-size: 2rem;
        margin-bottom: 15px;
        color: var(--light-blue);
      }

      .feature-title {
        font-weight: 600;
        margin-bottom: 5px;
        font-size: 1.1rem;
      }

      .feature-text {
        font-size: 0.9rem;
        color: #b8c7d9;
      }

      .loading {
        display: none;
        margin-top: 20px;
      }

      .carousel-slides {
        display: flex;
        width: 100%;
        overflow: hidden;
      }

      .slide {
        min-width: 100%;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        transition: transform 0.5s ease;
      }

      .slide-img {
        max-width: 80%;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        margin-bottom: 20px;
        border: 2px solid rgba(255, 255, 255, 0.1);
      }

      .carousel-nav {
        display: flex;
        justify-content: center;
        margin-top: 20px;
      }

      .carousel-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        margin: 0 5px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .carousel-dot.active {
        background: var(--light-blue);
        transform: scale(1.2);
      }

      .onboarding-container {
        display: none;
        width: 100%;
      }

      .onboarding-title {
        font-size: 1.5rem;
        margin-bottom: 15px;
        color: var(--light-blue);
      }

      .skip-onboarding {
        color: rgba(255, 255, 255, 0.6);
        text-decoration: underline;
        cursor: pointer;
        margin-top: 20px;
        transition: color 0.2s;
      }

      .skip-onboarding:hover {
        color: var(--light-blue);
      }

      @media (max-width: 768px) {
        .feature-grid {
          grid-template-columns: 1fr;
        }

        h1 {
          font-size: 2rem;
        }
      }

      /* Styles for the app interface */
      #app-container {
          display: none; /* Initially hidden */
          padding: 20px;
          background-color: rgba(0, 20, 40, 0.8);
          border-radius: 16px;
          backdrop-filter: blur(10px);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
          margin-top: 20px;
      }

      .image-preview {
          max-width: 300px;
          margin-bottom: 10px;
      }

      .prediction-text {
          font-size: 1.1rem;
          margin-bottom: 5px;
      }

      /* New styles for displaying images side by side */
      .image-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          margin-right: 20px; /* Add some spacing between images */
      }

      .image-row {
          display: flex;
          justify-content: center; /* Center images horizontally */
          margin-bottom: 20px;
      }

      .image-label {
          text-align: center;
          margin-bottom: 5px;
          font-weight: bold;
      }
    </style>
</head>
<body>
  <div class="particles" id="particles-js"></div>

  <div class="welcome-container">
    <div class="welcome-content" id="welcome-screen">
      <div class="logo">
        <i class="fas fa-shield-alt logo-shield"></i>
        <i class="fas fa-robot logo-robot"></i>
      </div>

      <h1>Adversarial Shield</h1>
      <p class="tagline">Explore, detect, and defend against adversarial attacks on machine learning models</p>

      <div class="feature-grid">
        <div class="feature-card">
          <i class="fas fa-code feature-icon"></i>
          <h3 class="feature-title">Generate Attacks</h3>
          <p class="feature-text">Create adversarial examples using FGSM to fool neural networks</p>
        </div>

        <div class="feature-card">
          <i class="fas fa-search feature-icon"></i>
          <h3 class="feature-title">Detect Attacks</h3>
          <p class="feature-text">Identify potentially adversarial images using advanced analysis</p>
        </div>

        <div class="feature-card">
          <i class="fas fa-shield-alt feature-icon"></i>
          <h3 class="feature-title">Defend Models</h3>
          <p class="feature-text">Apply defensive techniques to counter adversarial attacks</p>
        </div>
      </div>

      <div class="d-flex align-items-center flex-column">
        <button id="startBtn" class="btn btn-enter">
          <i class="fas fa-rocket me-2"></i>Launch Application
        </button>

        <div class="mt-3">
          <a id="showOnboardingBtn" href="#" class="text-light">First time? View quick tutorial</a>
        </div>
      </div>
      <div class="loading" id="loading">
        <div class="spinner-border text-light" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-2">Loading the application...</p>
      </div>
    </div>

    <div class="welcome-content onboarding-container" id="onboarding-screen">
      <h2 class="onboarding-title">Quick Tutorial</h2>

      <div class="carousel-slides" id="carousel">
        <div class="slide" data-slide="1">
          <img src="/api/placeholder/600/320" alt="Generate adversarial examples" class="slide-img">
          <h3>Generate Adversarial Examples</h3>
          <p>Upload any image and create adversarial examples that can fool state-of-the-art neural networks while being nearly indistinguishable to human eyes.</p>
        </div>

        <div class="slide" data-slide="2">
          <img src="/api/placeholder/600/320" alt="Detect adversarial attacks" class="slide-img">
          <h3>Detect Adversarial Attacks</h3>
          <p>Use advanced techniques to analyze images and determine if they contain adversarial perturbations designed to trick machine learning models.</p>
        </div>

        <div class="slide" data-slide="3">
          <img src="/api/placeholder/600/320" alt="Defend against attacks" class="slide-img">
          <h3>Apply Defense Mechanisms</h3>
          <p>Learn how different defensive techniques can help neural networks resist adversarial attacks and maintain accurate predictions.</p>
        </div>
      </div>

      <div class="carousel-nav" id="carousel-nav">
        <div class="carousel-dot active" data-slide="1"></div>
        <div class="carousel-dot" data-slide="2"></div>
        <div class="carousel-dot" data-slide="3"></div>
      </div>

      <button id="finishOnboardingBtn" class="btn btn-enter mt-4">
        <i class="fas fa-check-circle me-2"></i>Get Started
      </button>

      <div class="skip-onboarding" id="skipOnboardingBtn">Skip tutorial</div>
    </div>

   
    <div id="app-container" style="display: none;">
      <h2>Adversarial Attack Demo</h2>
      <input type="file" id="imageUpload" accept="image/*" class="form-control mb-3">
      <button id="processButton" class="btn btn-primary">Process Image</button>


      <div id="processing" class="spinner-border text-light mt-3" role="status" style="display: none;">
          <span class="visually-hidden">Processing...</span>
      </div>

     
      <div id="results" style="display: none;">
          <h3>Results:</h3>
          <div class="image-row">
            <div class="image-container">
              <img id="originalImage" class="image-preview" alt="Original Image">
              <p class="image-label">Original Image</p>
              <p id="originalPrediction" class="prediction-text"></p>
            </div>

            <div class="image-container">
              <img id="adversarialImage" class="image-preview" alt="Adversarial Image">
              <p class="image-label">Adversarial Image</p>
              <p id="adversarialPrediction" class="prediction-text"></p>
              <p id="adversarialStatus"></p>
            </div>

            <div class="image-container">
              <img id="defendedImage" class="image-preview" alt="Defended Image">
              <p class="image-label">Defended Image</p>
              <p id="defendedPrediction" class="prediction-text"></p>
            </div>
          </div>
      </div>
      <div id="error-message" class = "text-danger"></div>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
    // Initialize particles.js
    particlesJS('particles-js', {
      "particles": {
        "number": {
          "value": 80,
          "density": {
            "enable": true,
            "value_area": 800
          }
        },
        "color": {
          "value": "#75AADB"
        },
        "shape": {
          "type": "circle",
          "stroke": {
            "width": 0,
            "color": "#000000"
          },
          "polygon": {
            "nb_sides": 5
          }
        },
        "opacity": {
          "value": 0.5,
          "random": false,
          "anim": {
            "enable": false,
            "speed": 1,
            "opacity_min": 0.1,
            "sync": false
          }
        },
        "size": {
          "value": 3,
          "random": true,
          "anim": {
            "enable": false,
            "speed": 40,
            "size_min": 0.1,
            "sync": false
          }
        },
        "line_linked": {
          "enable": true,
          "distance": 150,
          "color": "#75AADB",
          "opacity": 0.4,
          "width": 1
        },
        "move": {
          "enable": true,
          "speed": 2,
          "direction": "none",
          "random": false,
          "straight": false,
          "out_mode": "out",
          "bounce": false,
          "attract": {
            "enable": false,
            "rotateX": 600,
            "rotateY": 1200
          }
        }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": {
          "onhover": {
            "enable": true,
            "mode": "grab"
          },
          "onclick": {
            "enable": true,
            "mode": "push"
          },
          "resize": true
        },
        "modes": {
          "grab": {
            "distance": 140,
            "line_linked": {
              "opacity": 1
            }
          },
          "bubble": {
            "distance": 400,
            "size": 40,
            "duration": 2,
            "opacity": 8,
            "speed": 3
          },
          "repulse": {
            "distance": 200,
            "duration": 0.4
          },
          "push": {
            "particles_nb": 4
          },
          "remove": {
            "particles_nb": 2
          }
        }
      },
      "retina_detect": true
    });

    $(document).ready(function() {
      // Launch application button
      $('#startBtn').click(function() {
        $('#welcome-screen').hide();  // Hide welcome screen
        $('#app-container').fadeIn(); // Show the app container
      });

      // Show onboarding tutorial
      $('#showOnboardingBtn').click(function(e) {
        e.preventDefault();
        $('#welcome-screen').hide();
        $('#onboarding-screen').fadeIn();
      });

      // Skip or finish onboarding
      $('#skipOnboardingBtn, #finishOnboardingBtn').click(function() {
        $('#onboarding-screen').hide();
        $('#welcome-screen').fadeIn();
      });

      // Carousel functionality
      let currentSlide = 1;

      $('.carousel-dot').click(function() {
        const slideNumber = $(this).data('slide');
        goToSlide(slideNumber);
      });

      function goToSlide(slideNumber) {
        currentSlide = slideNumber;
        const offset = (slideNumber - 1) * -100;
        $('#carousel .slide').css('transform', `translateX(${offset}%)`);
        $('.carousel-dot').removeClass('active');
        $(`.carousel-dot[data-slide="${slideNumber}"]`).addClass('active');
      }

      // Auto-advance carousel
      setInterval(function() {
        currentSlide = currentSlide >= 3 ? 1 : currentSlide + 1;
        goToSlide(currentSlide);
      }, 5000);

      // Image processing
      $('#processButton').click(function() {
        const fileInput = $('#imageUpload')[0];
        const file = fileInput.files[0];

        if (!file) {
          $('#error-message').text('Please select an image.');
          return;
        }

        $('#error-message').text(''); // Clear previous errors
        $('#processing').show();
        $('#results').hide();

        const formData = new FormData();
        formData.append('image', file);

        $.ajax({
          url: '/process',
          type: 'POST',
          data: formData,
          contentType: false,
          processData: false,
          success: function(data) {
            $('#processing').hide();
            $('#results').fadeIn();

            // Display images
            $('#originalImage').attr('src', data.original_image);
            $('#adversarialImage').attr('src', data.adversarial_image);
            $('#defendedImage').attr('src', data.defended_image);

            // Display predictions
            $('#originalPrediction').text('Original Prediction: ' + data.original_prediction);
            $('#adversarialPrediction').text('Adversarial Prediction: ' + data.adversarial_prediction);
            $('#defendedPrediction').text('Defended Prediction: ' + data.defended_prediction);

            // Display adversarial status
            $('#adversarialStatus').text('Adversarial Detected: ' + data.is_adversarial);
          },
          error: function(xhr, status, error) {
            $('#processing').hide();
            $('#error-message').text('Error processing image: ' + xhr.responseJSON.error);
          }
        });
      });
    });
  </script>
</body>
</html> -->

{% extends "base.html" %}

{% block content %}
<div class="welcome-content">
    <h2>Explore Adversarial Attacks</h2>
    <p class="tagline">Generate, detect, and defend against adversarial perturbations in machine learning models</p>

    <div class="feature-grid">
        <a href="{{ url_for('generate') }}" class="feature-card">
            <i class="fas fa-code feature-icon"></i>
            <h3 class="feature-title">Generate Attacks</h3>
            <p class="feature-text">Create adversarial examples using FGSM to fool neural networks</p>
            <div class="feature-hover-anim"></div>
        </a>

        <a href="{{ url_for('detect') }}" class="feature-card">
            <i class="fas fa-search feature-icon"></i>
            <h3 class="feature-title">Detect Attacks</h3>
            <p class="feature-text">Identify potentially adversarial images using advanced analysis</p>
            <div class="feature-hover-anim"></div>
        </a>

        <a href="{{ url_for('defend') }}" class="feature-card">
            <i class="fas fa-shield-alt feature-icon"></i>
            <h3 class="feature-title">Defend Models</h3>
            <p class="feature-text">Apply defensive techniques to counter adversarial attacks</p>
            <div class="feature-hover-anim"></div>
        </a>
    </div>

    <div class="info-section">
        <h3>About Adversarial Attacks</h3>
        <p>Adversarial attacks are specially crafted inputs designed to fool machine learning models. 
        These perturbations are often imperceptible to humans but can cause models to make incorrect predictions.</p>
    </div>
</div>
{% endblock %}
